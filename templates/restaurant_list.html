{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant List</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">
</head>
<body>
    <h1>Restaurant List</h1>

    <!-- Filter Form -->
    <div class="container">
        <form method="get" action=".">
            <select id="country" name="country">
                <option value="">Select Country</option>
                {% for country in countries %}
                    <option value="{{ country }}" {% if country == selected_country %}selected{% endif %}>{{ country }}</option>
                {% endfor %}
            </select>

            <label for="cost_for_two">Cost For Two</label>
            <input type="text" id="cost_for_two" name="cost_for_two" value="{{ cost_for_two }}">
            
            <label for="search">Search:</label>
            <input type="text" id="search" name="search" value="{{ search }}">
            <button type="submit">Apply Filter</button>
        </form>

        <!-- Restaurant List -->
        <ul class="restaurant-list">
            {% for restaurant in restaurants %}
            <li>
                <div class="restaurant-item">
                    <img src="{% static 'images/placeholder.jpg' %}" alt="Restaurant Image">
                    <a href="{% url 'restaurant-detail' restaurant.id %}">
                        <h3>{{ restaurant.name }}</h3>
                    </a>
                    <div class="rating">
                        <p>Rating: {{ restaurant.rating }}</p>
                        <p>No Of Ratings: {{ restaurant.number_of_ratings }}</p>
                    </div>
                </div>
            </li>
            {% endfor %}
        </ul>

        <!-- Pagination -->
        <div class="pagination">
            {% if pagination.previous %}
                <a href="?page={{ pagination.current_page|add:"-1" }}&country={{ selected_country }}&cost_for_two={{cost_for_two}}&search={{search}}">Previous</a>
            {% endif %}
            
            <span>Page {{ pagination.current_page }} of {{ pagination.total_pages }}</span>
            
            {% if pagination.next %}
                <a href="?page={{ pagination.current_page|add:"1" }}&country={{ selected_country }}&cost_for_two={{cost_for_two}}&search={{search}}">Next</a>
            {% endif %}
        </div>
    </div>
</body>
</html>
